{
  "hash": "0efbd1e27450eb7f47a268c559747cbb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Women Live Longer?\"\nauthor: \"Hardik Monga\"\n---\n\n\n\n# Libraries Used\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\n```\n:::\n\n\n\n# age Dataset - Import, Skim, Inspect\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nage <- read_delim(file = \"../../data/age-dataset.csv\", delim = \";\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 18408 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (3): Entity, Code, Continent\ndbl (2): Year, Population - Sex: all - Age: all - Variant: estimates\nnum (2): Life expectancy - Sex: female - Age: at birth - Variant: estimates,...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nage\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 18,408 × 7\n   Entity      Code      Year Life expectancy - Sex: fe…¹ Life expectancy - Se…²\n   <chr>       <chr>    <dbl>                       <dbl>                  <dbl>\n 1 Abkhazia    OWID_ABK  2015                          NA                     NA\n 2 Afghanistan AFG       1950                         284                    271\n 3 Afghanistan AFG       1951                         286                    274\n 4 Afghanistan AFG       1952                         291                    278\n 5 Afghanistan AFG       1953                         296                    283\n 6 Afghanistan AFG       1954                         299                    286\n 7 Afghanistan AFG       1955                         306                    293\n 8 Afghanistan AFG       1956                         312                    297\n 9 Afghanistan AFG       1957                         317                    303\n10 Afghanistan AFG       1958                         322                    308\n# ℹ 18,398 more rows\n# ℹ abbreviated names:\n#   ¹​`Life expectancy - Sex: female - Age: at birth - Variant: estimates`,\n#   ²​`Life expectancy - Sex: male - Age: at birth - Variant: estimates`\n# ℹ 2 more variables:\n#   `Population - Sex: all - Age: all - Variant: estimates` <dbl>,\n#   Continent <chr>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(women)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |      |\n|:------------------------|:-----|\n|Name                     |women |\n|Number of rows           |15    |\n|Number of columns        |2     |\n|_______________________  |      |\n|Column type frequency:   |      |\n|numeric                  |2     |\n|________________________ |      |\n|Group variables          |None  |\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|   mean|    sd|  p0|   p25| p50|   p75| p100|hist  |\n|:-------------|---------:|-------------:|------:|-----:|---:|-----:|---:|-----:|----:|:-----|\n|height        |         0|             1|  65.00|  4.47|  58|  61.5|  65|  68.5|   72|▇▇▇▇▇ |\n|weight        |         0|             1| 136.73| 15.50| 115| 124.5| 135| 148.0|  164|▇▆▆▆▃ |\n\n\n:::\n\n```{.r .cell-code}\ninspect(women)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nquantitative variables:  \n    name   class min    Q1 median    Q3 max     mean        sd  n missing\n1 height numeric  58  61.5     65  68.5  72  65.0000  4.472136 15       0\n2 weight numeric 115 124.5    135 148.0 164 136.7333 15.498694 15       0\n```\n\n\n:::\n:::\n\n\n\n# Filtering the dataset for the year 2015\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nyear2015_age <- age %>%\n    filter(Year == 2015)\n\nyear2015_age\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 303 × 7\n   Entity              Code   Year Life expectancy - Se…¹ Life expectancy - Se…²\n   <chr>               <chr> <dbl>                  <dbl>                  <dbl>\n 1 Abkhazia            OWID…  2015                     NA                     NA\n 2 Afghanistan         AFG    2015                    646                    608\n 3 Africa (UN)         <NA>   2015                    629                    593\n 4 Akrotiri and Dheke… OWID…  2015                     NA                     NA\n 5 Aland Islands       ALA    2015                     NA                     NA\n 6 Albania             ALB    2015                    812                    764\n 7 Algeria             DZA    2015                    768                    745\n 8 American Samoa      ASM    2015                    748                    703\n 9 Andorra             AND    2015                    854                    806\n10 Angola              AGO    2015                    631                    582\n# ℹ 293 more rows\n# ℹ abbreviated names:\n#   ¹​`Life expectancy - Sex: female - Age: at birth - Variant: estimates`,\n#   ²​`Life expectancy - Sex: male - Age: at birth - Variant: estimates`\n# ℹ 2 more variables:\n#   `Population - Sex: all - Age: all - Variant: estimates` <dbl>,\n#   Continent <chr>\n```\n\n\n:::\n:::\n\n\n\n# Renaming the column names and Putting Decimal points on the Life Expectancy column values\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew_year2015_age <- year2015_age %>%\n  rename(\n    ent = Entity,\n    code = Code,\n    year = Year,\n    female_expc = `Life expectancy - Sex: female - Age: at birth - Variant: estimates`,\n    male_expc = `Life expectancy - Sex: male - Age: at birth - Variant: estimates`,\n    pop = `Population - Sex: all - Age: all - Variant: estimates`,\n    cont = Continent\n    )\n\nnew_year2015_age <- new_year2015_age %>%\n  mutate(female_expc = sprintf(\"%.1f\", female_expc / 10),\n         male_expc = sprintf(\"%.1f\", male_expc / 10),\n         )\n\nnew_year2015_age\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 303 × 7\n   ent                   code      year female_expc male_expc        pop cont   \n   <chr>                 <chr>    <dbl> <chr>       <chr>          <dbl> <chr>  \n 1 Abkhazia              OWID_ABK  2015 NA          NA                NA Asia   \n 2 Afghanistan           AFG       2015 64.6        60.8        33753500 Asia   \n 3 Africa (UN)           <NA>      2015 62.9        59.3      1201108000 <NA>   \n 4 Akrotiri and Dhekelia OWID_AKD  2015 NA          NA                NA Asia   \n 5 Aland Islands         ALA       2015 NA          NA                NA Europe \n 6 Albania               ALB       2015 81.2        76.4         2882482 Europe \n 7 Algeria               DZA       2015 76.8        74.5        39543148 Africa \n 8 American Samoa        ASM       2015 74.8        70.3           51391 Oceania\n 9 Andorra               AND       2015 85.4        80.6           71766 Europe \n10 Angola                AGO       2015 63.1        58.2        28127724 Africa \n# ℹ 293 more rows\n```\n\n\n:::\n:::\n\n\n\n# Variable Types\n\n**Quantitative Variables:** female_expc, male_expc, pop\n\n**Qualitative Variables:** ent, code, year, cont\n\n**Target Variable**: female_expc, male_expc\n\n**Predictor variables**: pop\n\n# Plotting the ScatterPlot Graph\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Converting variable type from cha to numeric\nnew_year2015_age <- new_year2015_age %>%\n  mutate(\n    male_expc = as.numeric(as.character(male_expc)),\n    female_expc = as.numeric(as.character(female_expc))\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: There were 2 warnings in `mutate()`.\nThe first warning was:\nℹ In argument: `male_expc = as.numeric(as.character(male_expc))`.\nCaused by warning:\n! NAs introduced by coercion\nℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.\n```\n\n\n:::\n\n```{.r .cell-code}\nnew_year2015_age %>%\n  gf_point(male_expc ~ female_expc, size = ~pop, shape = 1) %>% \n  gf_refine(annotate(\"text\", x = 70, y = 75, label = \"Slope = 1\")) %>% \n  gf_lm(title = \"Life Expectancy Across Countries and Years\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 48 rows containing non-finite outside the scale range\n(`stat_lm()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The following aesthetics were dropped during statistical transformation: size.\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 49 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using the `size` aesthetic with geom_line was deprecated in ggplot2 3.4.0.\nℹ Please use the `linewidth` aesthetic instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n# Inference:\n\nI was not able to plot this graph as desired. Will try to figure out the reasons in the future. The first thing that I am able to deduce from this graph is that countries with larger populations have a life expectancy from 65-75 years. It also seems that, women live 5-10 years longer than men.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}